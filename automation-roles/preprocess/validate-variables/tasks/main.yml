---
- name: Validate mandatory variables are defined
  assert:
    that:
      - vault_api_key is defined
      - vault_type is defined
      - vault_authentication_type is defined
      - vault_url is defined
      - iaas_classic_api_key is defined
      - iaas_classic_username is defined
      - nfs_file_storage_name is defined
      - ibmcloud_api_key is defined
      - cp4d_cli_dir is defined
      - ibm_cp4d_entitlement_key is defined
      - ibm_cr_namespace is defined

- include_vars:
    file: "provision-configuration/roks.yaml"
    name: roks_config

- include_vars:
    file: "provision-configuration/cp4d.yaml"
    name: cp4d_config

- debug:
    msg: "{{ roks_config.roks[0] }}"
