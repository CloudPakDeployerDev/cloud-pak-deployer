---

# Installation of CP4I for each instance type defined in the configuration 
# separatelly using online provided catalog sources 

# -------------------- DEFINED PROJECT ------------------------------

- name: Install CP4I operators in namespace {{ current_cp4i_cluster.project }}
  block:

    # TODO(SJ): Installing operators - per instance - specific project

    # Create OperatorGroup
    # Ref: ''CP4I-install-CLI
    # ---------------------------------------------------------------
    # apiVersion: operators.coreos.com/v1
    # kind: OperatorGroup
    # metadata:
    #   name: ibm-integration-operatorgroup
    #   namespace: cp4i
    # spec:
    #   targetNamespaces:
    #   - cp4i  

  when: not _operators_in_all_namespaces

# -------------------- ALL NAMESPACES -------------------------------

- name: Install operators in all namespaces
  block:

    # TODO(SJ): Installing operators - per instance - all namespaces 

  when: _operators_in_all_namespaces

