---

- set_fact:
    cp4i_package: "{{ current_cp4i_instance.package }}"

- name: Create instance of the Operations Dashboard
  include_tasks: create-operations-dashboard.yml
  when: cp4i_package == "ibm-integration-operations-dashboard"

- name: Create instance of the Asset Repo
  include_tasks: create-asset-repo.yml
  when: cp4i_package == "ibm-integration-asset-repository"

- name: Create instance of the API Connect
  include_tasks: create-apiconnect.yml
  when: cp4i_package == "ibm-apiconnect"

- name: Create instance of the App Connect
  include_tasks: create-appconnect.yml
  when: cp4i_package == "ibm-appconnect"

- name: Create instance of the Aspera HSTS
  include_tasks: create-aspera.yml
  when: cp4i_package == "aspera-hsts-operator"

- name: Create instance of the DataPower Gateway
  include_tasks: create-datapower.yml
  when: cp4i_package == "datapower-operator"

- name: Create instance of the Event Streams
  include_tasks: create-eventstreams.yml
  when: cp4i_package == "ibm-eventstreams"

- name: Create instance of the MQ
  include_tasks: create-mq.yml
  when: cp4i_package == "ibm-mq"
