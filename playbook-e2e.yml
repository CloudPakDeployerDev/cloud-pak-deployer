---
- name: Preparation
  hosts: localhost
  connection: local
  become: True

  tasks:
  - name: Validate mandatory variables are defined
    assert:
      that:
        - vault_api_key is defined
        - vault_type is defined
        - vault_authentication_type is defined
        - vault_url is defined

  roles:
    - role: vault-connect
