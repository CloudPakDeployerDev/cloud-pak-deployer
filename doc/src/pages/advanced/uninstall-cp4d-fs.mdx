# Uninstall Cloud Pak for Data and Foundational Services

## Check all CRs in cluster
```
for crd in $(oc get crd --no-headers | grep ibm | awk '{print $1}');do 
    cr=$(oc get crd $crd -o=jsonpath='{.spec.names.kind}')
    echo $cr;oc get $cr -A
done
```

## Remove all cartridge CRs

## Remove Cloud Pak for Data CR
```
oc delete ibmcpd --all
```

## Remove FS

### Remove CommonService operator
```
oc delete CommonService -n ibm-common-services common-service
oc delete sub -n ibm-common-services ibm-common-service-operator-v3-opencloud-operators-openshift-marketplace
oc delete csv -n ibm-common-services ibm-common-service-operator.v3.11.0

oc project ibm-common-services
oc delete operandrequest -n ibm-common-services $(oc get operandrequest -n ibm-common-services --no-headers | awk '{print $1}')

oc delete operandconfig -n ibm-common-services $(oc get operandconfig -n ibm-common-services --no-headers | awk '{print $1}')

oc delete operandregistry -n ibm-common-services $(oc get operandregistry -n ibm-common-services --no-headers | awk '{print $1}')

oc delete nss -n ibm-common-services --all

oc delete sub -n ibm-common-services --all
oc delete csv -n ibm-common-services --all

oc delete ns ibm-common-services

oc delete catsrc -n openshift-marketplace $(oc get catsrc -n openshift-marketplace --no-headers | grep -i ibm | awk '{print $1}')

oc -n kube-system delete secret icp-metering-api-secret 
oc -n kube-public delete configmap ibmcloud-cluster-info
oc -n kube-public delete secret ibmcloud-cluster-ca-cert
oc delete ValidatingWebhookConfiguration cert-manager-webhook ibm-cs-ns-mapping-webhook-configuration --ignore-not-found
oc delete MutatingWebhookConfiguration cert-manager-webhook ibm-common-service-webhook-configuration ibm-operandrequest-webhook-configuration namespace-admission-config --ignore-not-found
oc delete namespace services
oc delete nss --all
```
