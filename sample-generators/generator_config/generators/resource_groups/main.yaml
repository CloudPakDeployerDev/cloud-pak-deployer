---
- name: "Start {{generator.name}} generator"
  debug:
    msg: 'from {{generator.name}} in {{generator.path}} attributes: {{generator.attributes}}'

# TODO: Test if modues could work
# - name: 'generate {{generator.name}} module in {{path_to_terraform_folder}}/modules'
#   template:
#     src: '../templates/module.tf.j2'
#     dest: '{{ path_to_terraform_folder }}/modules/{{generator.name}}/main.tf'

- name: 'generate resource_group in {{path_to_terraform_folder}}'
  template:
    src: '../templates/main.tf.j2'
    dest: '{{ path_to_terraform_folder }}/{{generator.name}}_{{generator.attributes.name}}.tf'
